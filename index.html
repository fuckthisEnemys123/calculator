<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
    <style>
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            margin: 0;
            padding: 10px;
            color: #333;
            font-size: 16px;
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 24px;
            margin-bottom: 20px;
        }

        h2 {
            color: #3498db;
            font-size: 18px;
            margin-top: 0;
            margin-bottom: 15px;
        }

        .input-section, .result-section {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }

        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }

        input, select, button {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            box-sizing: border-box;
            min-height: 44px;
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            cursor: pointer;
            transition: 0.3s;
            font-weight: bold;
        }

        button:active {
            transform: scale(0.98);
            opacity: 0.9;
        }

        .radio-group {
            margin-bottom: 15px;
        }

        .radio-group label {
            display: flex;
            align-items: center;
            margin: 10px 0;
            cursor: pointer;
            padding: 10px 0;
        }

        .radio-group input {
            width: auto;
            margin-right: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 14px;
        }

        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background: #f0f0f0;
            font-weight: 600;
        }

        .total-row {
            background: #f8f9fa;
            font-weight: bold;
        }

        b {
            color: #2c3e50;
        }

        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 20px;
            }
            
            .input-section, .result-section {
                padding: 10px;
            }
            
            input, select, button {
                padding: 10px;
            }
            
            table {
                font-size: 13px;
            }
            
            th, td {
                padding: 8px 5px;
            }
        }

        /* –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 600px) {
            .total-table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèóÔ∏è –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h1>
        
        <!-- –≠—Ç–∞–ø 1: –í–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ -->
        <div class="input-section">
            <h2>1. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—ä–µ–∫—Ç–∞</h2>
            <div class="radio-group">
                <label>
                    <input type="radio" name="object-type" value="foundation" checked> –§—É–Ω–¥–∞–º–µ–Ω—Ç (—Å—á–∏—Ç–∞–µ–º —Ä–∞–±–æ—Ç—É –∑–∞ –º¬≥)
                </label>
                <label>
                    <input type="radio" name="object-type" value="platform"> –ü–ª–æ—â–∞–¥–∫–∞ (—Å—á–∏—Ç–∞–µ–º —Ä–∞–±–æ—Ç—É –∑–∞ –º¬≤)
                </label>
            </div>
            <div class="input-group">
                <label>–î–ª–∏–Ω–∞ (–º)</label>
                <input type="number" id="length" value="4" placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–ª–∏–Ω—É">
            </div>
            <div class="input-group">
                <label>–®–∏—Ä–∏–Ω–∞ (–º)</label>
                <input type="number" id="width" value="4" placeholder="–í–≤–µ–¥–∏—Ç–µ —à–∏—Ä–∏–Ω—É">
            </div>
            <div class="input-group">
                <label>–í—ã—Å–æ—Ç–∞/–¢–æ–ª—â–∏–Ω–∞ (–º)</label>
                <input type="number" id="height" value="0.3" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤—ã—Å–æ—Ç—É">
            </div>
        </div>

        <!-- –≠—Ç–∞–ø 2: –†–∞—Å—á—ë—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ -->
        <div class="result-section" id="material-result">
            <h2>2. –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</h2>
            <table>
                <tr><th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th><th>–ó–Ω–∞—á–µ–Ω–∏–µ</th></tr>
                <tr><td>–ü–ª–æ—â–∞–¥—å</td><td><b id="area-result">‚Äî</b></td></tr>
                <tr><td>–û–±—ä—ë–º –±–µ—Ç–æ–Ω–∞</td><td><b id="volume-result">‚Äî</b></td></tr>
                <tr><td>–î–æ—Å–∫–∏ (6 –º)</td><td><b id="boards-result">‚Äî</b></td></tr>
                <tr><td>–ê—Ä–º–∞—Ç—É—Ä–∞ (10 –º–º)</td><td><b id="armature-result">‚Äî</b></td></tr>
                <tr><td>–ü–µ—Å–æ–∫ (–ø–æ–¥—É—à–∫–∞ 5 —Å–º)</td><td><b id="sand-result">‚Äî</b></td></tr>
            </table>
        </div>

        <!-- –≠—Ç–∞–ø 3: –í–≤–æ–¥ —Ü–µ–Ω -->
        <div class="input-section">
            <h2>3. –°—Ç–æ–∏–º–æ—Å—Ç—å</h2>
            <table class="price-table">
                <tr><td>–î–æ—Å–∫–∞ (—à—Ç.)</td><td><input type="number" id="board-price" value="500"></td></tr>
                <tr><td>–ê—Ä–º–∞—Ç—É—Ä–∞ (–∫–≥)</td><td><input type="number" id="armature-price" value="80"></td></tr>
                <tr><td>–ë–µ—Ç–æ–Ω (–º¬≥)</td><td><input type="number" id="concrete-price" value="4650"></td></tr>
                <tr><td>–ü–µ—Å–æ–∫ (–º¬≥)</td><td><input type="number" id="sand-price" value="1200"></td></tr>
                <tr><td>–î–æ—Å—Ç–∞–≤–∫–∞</td><td><input type="number" id="delivery-price" value="0"></td></tr>
                <tr><td id="work-price-label">–†–∞–±–æ—Ç–∞ (–º¬≥)</td><td><input type="number" id="work-price" value="7000"></td></tr>
            </table>
        </div>

        <button onclick="calculateAll()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–º–µ—Ç—É</button>

        <!-- –≠—Ç–∞–ø 4: –ò—Ç–æ–≥–æ–≤–∞—è —Å–º–µ—Ç–∞ -->
        <div class="result-section" id="total-result">
            <h2>4. –ò—Ç–æ–≥–æ–≤–∞—è —Å–º–µ—Ç–∞</h2>
            <table class="total-table">
                <tr><th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th><th>–ö–æ–ª-–≤–æ</th><th>–¶–µ–Ω–∞</th><th>–°—É–º–º–∞</th></tr>
                <!-- –°—é–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–∏–º –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ JS -->
            </table>
        </div>
    </div>

    <script>
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª (–±–µ–∑ .00 –¥–ª—è —Ü–µ–ª—ã—Ö)
        function formatNumber(num) {
            return num % 1 === 0 ? num.toString() : num.toFixed(2);
        }

        // –†–∞—Å—á—ë—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
        function calculateMaterials() {
            const length = parseFloat(document.getElementById('length').value);
            const width = parseFloat(document.getElementById('width').value);
            const height = parseFloat(document.getElementById('height').value);

            if (!length || !width || !height) {
                alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–ª–∏–Ω—É, —à–∏—Ä–∏–Ω—É –∏ –≤—ã—Å–æ—Ç—É!");
                return false;
            }

            const area = length * width;
            const volume = area * height;
            const boardsCount = Math.ceil(area / 6);
            const armatureWeight = Math.ceil(area * 0.5);
            const sandVolume = (area * 0.05).toFixed(2); // –ü–æ–¥—É—à–∫–∞ 5 —Å–º

            // –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            document.getElementById('area-result').textContent = `${formatNumber(area)} –º¬≤`;
            document.getElementById('volume-result').textContent = `${formatNumber(volume)} –º¬≥`;
            document.getElementById('boards-result').textContent = `${boardsCount} —à—Ç.`;
            document.getElementById('armature-result').textContent = `${armatureWeight} –∫–≥`;
            document.getElementById('sand-result').textContent = `${sandVolume} –º¬≥`;

            return { area, volume, boardsCount, armatureWeight, sandVolume };
        }

        // –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
        function calculateBudget(materials) {
            const isFoundation = document.querySelector('input[name="object-type"]:checked').value === 'foundation';
            const workPrice = parseFloat(document.getElementById('work-price').value);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å—å –¥–ª—è —Ü–µ–Ω—ã —Ä–∞–±–æ—Ç
            const workUnits = isFoundation ? '–º¬≥' : '–º¬≤';
            document.getElementById('work-price-label').textContent = `–†–∞–±–æ—Ç–∞ (${workUnits})`;

            // –ü–æ–ª—É—á–∞–µ–º —Ü–µ–Ω—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
            const prices = {
                board: parseFloat(document.getElementById('board-price').value),
                armature: parseFloat(document.getElementById('armature-price').value),
                concrete: parseFloat(document.getElementById('concrete-price').value),
                sand: parseFloat(document.getElementById('sand-price').value),
                delivery: parseFloat(document.getElementById('delivery-price').value) || 0,
                work: workPrice
            };

            // –°—á–∏—Ç–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç
            const workCost = isFoundation 
                ? materials.volume * prices.work 
                : materials.area * prices.work;

            // –°—á–∏—Ç–∞–µ–º —Å—É–º–º—ã
            const costs = {
                boards: materials.boardsCount * prices.board,
                armature: materials.armatureWeight * prices.armature,
                concrete: materials.volume * prices.concrete,
                sand: materials.sandVolume * prices.sand,
                delivery: prices.delivery,
                work: workCost
            };

            const total = Object.values(costs).reduce((sum, cost) => sum + cost, 0);

            // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–∞–±–ª–∏—Ü—É
            document.querySelector('#total-result table').innerHTML = `
                <tr><th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th><th>–ö–æ–ª-–≤–æ</th><th>–¶–µ–Ω–∞</th><th>–°—É–º–º–∞</th></tr>
                <tr><td>–î–æ—Å–∫–∏</td><td>${materials.boardsCount} —à—Ç.</td><td>${formatNumber(prices.board)} —Ä—É–±</td><td><b>${formatNumber(costs.boards)} —Ä—É–±</b></td></tr>
                <tr><td>–ê—Ä–º–∞—Ç—É—Ä–∞</td><td>${materials.armatureWeight} –∫–≥</td><td>${formatNumber(prices.armature)} —Ä—É–±</td><td><b>${formatNumber(costs.armature)} —Ä—É–±</b></td></tr>
                <tr><td>–ë–µ—Ç–æ–Ω</td><td>${formatNumber(materials.volume)} –º¬≥</td><td>${formatNumber(prices.concrete)} —Ä—É–±</td><td><b>${formatNumber(costs.concrete)} —Ä—É–±</b></td></tr>
                <tr><td>–ü–µ—Å–æ–∫</td><td>${materials.sandVolume} –º¬≥</td><td>${formatNumber(prices.sand)} —Ä—É–±</td><td><b>${formatNumber(costs.sand)} —Ä—É–±</b></td></tr>
                <tr><td>–î–æ—Å—Ç–∞–≤–∫–∞</td><td>1</td><td>${formatNumber(prices.delivery)} —Ä—É–±</td><td><b>${formatNumber(costs.delivery)} —Ä—É–±</b></td></tr>
                <tr><td>–†–∞–±–æ—Ç–∞ (${workUnits})</td><td>${isFoundation ? formatNumber(materials.volume) : formatNumber(materials.area)}</td><td>${formatNumber(prices.work)} —Ä—É–±</td><td><b>${formatNumber(workCost)} —Ä—É–±</b></td></tr>
                <tr class="total-row"><td colspan="3"><b>–ò—Ç–æ–≥–æ</b></td><td><b>${formatNumber(total)} —Ä—É–±</b></td></tr>
            `;
        }

        // –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á—ë—Ç–∞
        function calculateAll() {
            const materials = calculateMaterials();
            if (materials) calculateBudget(materials);
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å—å –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞
        document.querySelectorAll('input[name="object-type"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const isFoundation = this.value === 'foundation';
                document.getElementById('work-price').value = isFoundation ? '7000' : '1200';
                if (window.materials) calculateBudget(window.materials);
            });
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            window.materials = calculateMaterials();
            if (window.materials) calculateBudget(window.materials);
            
            // –£–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            document.querySelectorAll('input').forEach(input => {
                input.addEventListener('touchstart', function() {
                    this.focus();
                });
            });
        };
    </script>
</body>
</html>
